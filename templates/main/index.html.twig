{% extends 'base.html.twig' %}

{% block title %}
    {{ parent() }} | Index
{% endblock %}

{% block body %}
    <h3>Filtrer les sorties</h3>

    <div id="container_principal">

        <div id="formulaire" style="display: flex; flex-direction: row;">
            <div id="formulaire_gauche" style="width: 500px">
                {{ form_start(form) }}
                {{ form_row(form.site) }}
                {{ form_row(form.recherche) }}
                <div style="display: flex; flex-direction: row; margin: 2px">
                    <p>Entre&nbsp;</p>
                    {{ form_row(form.dateDebut) }}
                    <p>&nbsp;et&nbsp;</p>
                    {{ form_row(form.dateFin) }}
                </div>
            </div>

            <div id="formulaire_droite" style="width: 500px">
                {{ form_row(form.organisateur) }}
                {{ form_row(form.inscrit) }}
                {{ form_row(form.pasInscrit) }}
                {{ form_row(form.sortiesPassees) }}
            </div>
            <div id="formulaire_bouton" style="width: 200px">
                <button id="searchButton" style="width: 200px; height:75px; background-color: #B0413E">Rechercher</button>
            </div>
        </div>

        <div id="liste_sorties" style="width: 1500px;height:500px;">

            {#<table border="2" style=" width: 100%;border: 2px; border-style: solid">#}
            <table>
                <thead>
                    <tr >
                        <th>Nom de la sortie</th>
                        <th>Date de la sortie</th>
                        <th>Clôture de la sortie</th>
                        <th>Inscrits/Places</th>
                        <th>Etat de la sortie</th>
                        <th>Inscrit à la sortie</th>
                        <th>Organisateur de la sortie</th>
                        <th>Actions à réaliser</th>
                    </tr>
                </thead>
                <tbody>
                        {% for sortie in sorties %}
                        <tr>
                            <td>{{ sortie.libelle }}</td>
                            <td>{{ sortie.dateSortie|date('y/m/d h:i') }}</td>
                            <td>{{ sortie.dateCloture|date('y-m-d') }}</td>
{#                            <td>Id sortie pour test: {{ sortie.id }} / {{ sortie.listeParticipants.count }} / {{ sortie.nbreParticipants }} </td>#}
                            <td>{{ sortie.listeParticipants.count }} / {{ sortie.nbreParticipants }} </td>
                            {% if sortie.etat == '1' %}
                                <td>En cours</td>
                            {% elseif  sortie.etat == '2'%}
                                <td>Fermé</td>
                            {% elseif  sortie.etat == '3'%}
                                <td>Ouvert</td>
                            {% else %}
                                <td>En création</td>
                            {% endif %}
                            <td>Inscrit A FAIRE </td>
{#                            <td>{{ sortie.organisateur.pseudo }}</td>#}

                            <td><li><a href="{{ path('sortie_create', {'id': 1}) }}" title="Vers profil organisateur">{{ sortie.organisateur.pseudo }}</a></li></td>

                            <td>Actions A FAIRE</td>
                        </tr>

                        <br>
                        {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
    {{ form_end(form) }}
    <li><a href="{{ path('sortie_create', {'id': 1}) }}" title="Créer sortie">Créer une sortie</a></li>
{#    <button id="creerSortie" onclick="window.location.href ={{ path('sortie_create', {'id': 1}) }}" style="background-color: #B0413E; width: 200px; height:75px;">Créer une sortie</button>#}
{% endblock %}